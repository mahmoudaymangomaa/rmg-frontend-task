<h1 class="text-2xl font-semibold mb-6">Invoices</h1>

<!-- Error -->
<div *ngIf="error()" class="mb-4 bg-red-50 border border-red-200 p-3 text-red-600 rounded">
    {{ error() }}
</div>

<!-- Loading -->
<div *ngIf="loading()" class="text-center py-10 text-gray-500">
    Loading invoices...
</div>

<!-- Empty -->
<div *ngIf="!loading() && invoices().length === 0" class="text-center py-16 text-gray-400">
    <p class="text-lg font-medium">No invoices yet</p>
    <p class="text-sm">Create your first invoice</p>
</div>

<!-- Table -->
<div *ngIf="!loading() && invoices().length" class="bg-white rounded-xl shadow overflow-x-auto">
    <table class="w-full text-sm">
        <thead class="bg-gray-50 text-gray-600">
            <tr>
                <th class="text-left px-4 py-3">Customer</th>
                <th>Date</th>
                <th>Items</th>
                <th>Total</th>
                <th></th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let i of invoices()" class="border-t hover:bg-gray-50">
                <td class="px-4 py-3 font-medium">{{ i.customerName }}</td>
                <td>{{ i.date | date:'mediumDate' }}</td>
                <td>{{ i.items.length }}</td>
                <td class="font-semibold">{{ i.grandTotal }} EGP</td>
                <td class="text-right px-4">
                    <a [routerLink]="['/invoices', i.id]" class="text-blue-600 hover:underline text-sm mr-3">
                        View
                    </a>
                    <button (click)="delete(i.id!)" class="text-red-600 hover:underline text-sm">
                        Delete
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>